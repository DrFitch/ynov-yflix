<app-bar [value]="uploadPercent | async"></app-bar>

<div id="profile-container">

  <h1 mat-dialog-title style="margin-top: 0px; padding-top: 10px">{{'ADD_PROFILE' | translate}}</h1>

  <div mat-dialog-content>

    <form class="form" [formGroup]="profileForm">

      <div class="profile-image-container">
        <img class="profile-image" [src]="profile.photoUrl" (click)="myfile.click()" />
        <input #myfile type="file" style="display: none;" (change)="uploadFile($event)" />
      </div>

      <mat-form-field appearance="outline">
        <mat-label>{{'PROFILE_USERNAME' | translate}}</mat-label>
        <input [(ngModel)]="profile.username" matInput placeholder="" formControlName="username">
        <mat-icon matSuffix>perm_identity</mat-icon>
        <mat-error *ngIf="fm.username.errors">
          {{ 'REQUIRED_FIELD' | translate }}
        </mat-error>
      </mat-form-field>

    </form>

  </div>

  <div mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">
      {{ 'VIDEO_MODAL_BTN_CANCEL' | translate }}
    </button>
    <button mat-raised-button (click)="onCreateProfile()" [disabled]="profileForm.invalid || (uploadPercent | async) === 100">
      {{ 'VIDEO_MODAL_BTN_ADD' | translate }}
    </button>
  </div>

</div>